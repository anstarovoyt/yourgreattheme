{"version":3,"sources":["store/defaultJsonOptions.js","store/defaultEditorOptions.js","store/store.js","canvasRenderer.js","helper/textTemplate.js","components/CanvasComponent.js","components/EditorTextComponent.js","components/IdeComponent.js","components/ColorPropertyComponent.js","helper/renderer.js","components/GeneralElementsComponent.js","components/FontTypePropertyComponent.js","components/EditorElementsComponent.js","helper/generateZip.js","components/CreatePluginComponent.js","components/App.js","serviceWorker.js","index.js"],"names":["formattedOptions","k","defaultOptions","hasOwnProperty","getFlattenProperties","obj","prefix","result","key","value","flattenProperties","Object","assign","keys","starProperties","length","freezeRecursively","freeze","defaultEditorOptions","TEXT","FOREGROUND","BACKGROUND","NAME","DEFAULT_KEYWORD","DEFAULT_STRING","DEFAULT_LINE_COMMENT","shadowCopy","state","createStore","jsonOptions","defaultJsonOptions","xmlOptions","action","update","type","JSON","parse","stringify","newOptions","group","name","console","log","fontType","CanvasRenderer","width","height","this","loaded","masks","skipStar","callback","categoryKey","category","call","forEachProperty","defaultState","offscreenCanvas","OffscreenCanvas","img","Image","addEventListener","updateStateIfPossible","context","getContext","drawImage","data","getImageData","imageArray","Uint8ClampedArray","x","y","i","src","layerCanvas","frontLayer","store","dispatch","ctx","Date","now","stateLabel","qName","mask","color","parseInt","substr","imgData","ImageData","createImageBitmap","then","imgBitmap","getTextStyle","editorOptions","option","styles","FONT_TYPE","CanvasComponent","props","containerWidth","containerHeight","canvasRenderer","updateCanvas","canvas","refs","style","render","className","ref","React","Component","RCanvasComponent","connect","EditorTextComponent","template","defaultTextBackground","getBackgroundColor","keywordStyle","lineComment","defaultText","stringLiteral","textTemplate","dangerouslySetInnerHTML","__html","REditorTextComponent","IdeComponent","mapDispatchToProps","nameAndValue","updateType","popover","position","zIndex","cover","top","right","bottom","left","ColorPropertyComponent","updateValue","e","preventDefault","target","newState","fireStateUpdate","setState","handleClick","displayColorPicker","handlePickerChange","hex","toUpperCase","substring","handleClose","resetOption","schemaDefaultValue","colorId","title","picker","onMouseUp","onChangeComplete","onClick","onChange","href","RColorPropertyComponent","RXmlColorPropertyComponent","renderAccordionElement","uniqueId","groupName","subElements","accordionId","id","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","GeneralElementsComponent","resultGroups","sortedKeys","sort","count","groupKey","subObject","subKeys","subCount","propertyKey","defaultValue","push","RGeneralElementsComponent","FontTypePropertyComponent","checked","undefined","RFontTypePropertyComponent","EditorElementsComponent","elements","REditorElementsComponent","uuid","require","EDITOR_SCHEMA_NAME","MY_THEME_FILE","generateZip","pluginName","author","topLevelZip","JSZip","metaInf","folder","file","generateManifestMF","pluginId","description","uuidValue","content","generatePluginXml","dark","editorScheme","uiOptions","ui","s","generateThemeJson","themes","generateAttribute","generateEditorScheme","generateAsync","saveAs","values","startsWith","CreatePluginComponent","onSubmit","getState","htmlFor","App","defaultActiveKey","eventKey","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b23fbc58.chunk.js","sourcesContent":["import defaultOptions from '../data/darcula-default-meaningful.json'\nimport starProperties from '../data/starProperties.json'\n\nconst formattedOptions = {};\nfor (let k in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(k)) {\n        formattedOptions[k] = getFlattenProperties(defaultOptions[k], \"\");\n    }\n}\n\nif (Object.keys(starProperties).length > 0) {\n    formattedOptions[\"*\"] = getFlattenProperties(starProperties, \"\");\n}\n\nfunction getFlattenProperties(obj, prefix) {\n    let result = {};\n    if (prefix) prefix = prefix + \".\";\n    for (let key in obj) {\n        if (!obj.hasOwnProperty(key)) continue;\n\n        let value = obj[key];\n        if (typeof value !== \"object\") {\n            result[prefix + key] = value;\n            continue;\n        }\n\n        let flattenProperties = getFlattenProperties(value, prefix + key);\n        result = Object.assign(result, flattenProperties);\n    }\n\n    return result;\n}\n\nfunction freezeRecursively(obj) {\n    Object.freeze(obj);\n    for (let k in obj) {\n        if (typeof obj == \"object\" && obj.hasOwnProperty(k)) {\n            freezeRecursively(obj[k]);\n        }\n    }\n}\n\nfreezeRecursively(formattedOptions);\n\nexport default formattedOptions;\n","const defaultEditorOptions = {\n    TEXT: {\n        FOREGROUND: \"#a9b7c6\",\n        BACKGROUND: \"#2b2b2b\",\n        NAME: \"Text\"\n    },\n    DEFAULT_KEYWORD: {\n        FOREGROUND: \"#cc7832\",\n        NAME: \"Keywords\"\n    },\n    DEFAULT_STRING: {\n        FOREGROUND: \"#6a8759\",\n        NAME: \"String literals\"\n    },\n    DEFAULT_LINE_COMMENT: {\n        FOREGROUND: \"#808080\",\n        NAME: \"Line comment\"\n    }\n};\n//test\n\nexport default defaultEditorOptions;","import {createStore} from 'redux'\nimport defaultJsonOptions from \"./defaultJsonOptions\";\nimport defaultEditorOptions from \"./defaultEditorOptions\";\n\nfunction updateProperty(state = {\n    jsonOptions: defaultJsonOptions,\n    xmlOptions: defaultEditorOptions\n}, action) {\n    let update = action.update;\n    \n    if (action.type === \"reload\") {\n        return JSON.parse(JSON.stringify(state));\n    }\n    \n    if (action.type === \"json\") {\n        if (update && update.value.length <= 6) {\n            const newOptions = shadowCopy(state.jsonOptions);\n            newOptions[update.group][update.name] = \"#\" + update.value;\n            return {jsonOptions: newOptions, xmlOptions: state.xmlOptions}\n        }\n    } else if (action.type === \"xml\") {\n        if (update) {\n            if (update.value && update.value.length === 6) {\n                const newOptions = shadowCopy(state.xmlOptions);\n                newOptions[update.group][update.name] = \"#\" + update.value;\n                console.log(\"state updated \" + update.name + \" \" + update.value);\n                return {xmlOptions: newOptions, jsonOptions: state.jsonOptions}\n            } else if (update.name === \"FONT_TYPE\") {\n                const newOptions = shadowCopy(state.xmlOptions);\n                newOptions[update.group][update.name] = update.fontType;\n                return {xmlOptions: newOptions, jsonOptions: state.jsonOptions}\n            }\n        }\n    }\n    return state;\n}\n\n\nfunction shadowCopy(state) {\n    let result = {};\n    return Object.assign(result, state);\n}\n\n\nexport default createStore(updateProperty);\n","import defaultState from \"./store/defaultJsonOptions\";\nimport store from \"./store/store\";\nclass CanvasRenderer {\n\n\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n        this.loaded = 1;\n\n        const masks = {};\n        forEachProperty(defaultState, true, (key, value) => {\n            this.loaded++;\n            let offscreenCanvas = new OffscreenCanvas(width, height);\n            let img = new Image();\n            img.addEventListener(\"load\", () => {\n                this.updateStateIfPossible();\n                let context = offscreenCanvas.getContext(\"2d\");\n                context.drawImage(img, 0, 0);\n                let data = context.getImageData(0, 0, width, height).data;\n                let imageArray = new Uint8ClampedArray(this.width * this.height);\n                for (let x = 0; x < this.width; x++) {\n                    for (let y = 0; y < this.height; y++) {\n                        let i = y * this.width + x;\n                        imageArray[i] = data[i * 4] === 0 ? 1 : 0;\n                    }\n                }\n                masks[key] = imageArray;\n            }, false);\n            img.src = 'canvas-data/' + key + \".png\";\n            return true;\n        });\n        /** @type {Object<String, Uint8ClampedArray>} */\n        this.layerCanvas = masks;\n\n        let frontLayer = new Image();\n        frontLayer.addEventListener(\"load\", () => {\n            this.updateStateIfPossible();\n            this.frontLayer = frontLayer;\n        }, false);\n        frontLayer.src = 'canvas-data/FrontLayer.png';\n    }\n\n    updateStateIfPossible() {\n        if (--this.loaded === 0) {\n            store.dispatch({type: \"reload\"})\n        }\n    }\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     * @param state\n     */\n    render(ctx, state) {\n        let start = Date.now();\n        let imageArray = new Uint8ClampedArray(this.width * this.height * 4);\n\n        stateLabel:\n            for (let categoryKey in state) {\n                if (!state.hasOwnProperty(categoryKey)) continue;\n                if (categoryKey === \"*\") continue;\n\n                let category = state[categoryKey];\n                for (let key in category) {\n                    if (!category.hasOwnProperty(key)) continue;\n                    let qName = categoryKey + \".\" + key;\n                    let mask = this.layerCanvas[qName];\n                    if (!mask) {\n                        continue stateLabel;\n                    }\n\n                    for (let x = 0; x < this.width; x++) {\n                        for (let y = 0; y < this.height; y++) {\n                            let i = y * this.width + x;\n                            if (mask[i] === 1) {\n                                let color = category[key];\n                                imageArray[i * 4] = parseInt(color.substr(1, 2), 16);\n                                imageArray[i * 4 + 1] = parseInt(color.substr(3, 2), 16);\n                                imageArray[i * 4 + 2] = parseInt(color.substr(5, 2), 16);\n                                imageArray[i * 4 + 3] = 255;\n                            }\n                        }\n                    }\n                }\n            }\n\n        let imgData = new ImageData(imageArray, this.width, this.height);\n\n        createImageBitmap(imgData).then(imgBitmap => {\n            ctx.drawImage(imgBitmap, 0, 0);\n            if (this.frontLayer) {\n                ctx.drawImage(this.frontLayer, 0, 0);\n            }\n        });\n    }\n}\n\n\nfunction getProperty(state, property) {\n    let split = property.split(\".\");\n    let optionsProperty = getValueBySplitQName(state, split);\n    let defaultProperty = getValueBySplitQName(defaultState, split);\n    if (optionsProperty !== defaultProperty) return optionsProperty;\n\n    let optionsStarProperty = state[\"*\"][split[split.length - 1]];\n    if (optionsStarProperty) return optionsStarProperty;\n\n    return defaultProperty;\n}\n\nfunction getValueBySplitQName(options, split) {\n    let value = options;\n    for (let part of split) {\n        value = value[part];\n    }\n    return value;\n}\n\nexport default CanvasRenderer;\n\n\nfunction forEachProperty(state, skipStar, callback) {\n    for (let categoryKey in state) {\n        if (!state.hasOwnProperty(categoryKey)) continue;\n        if (skipStar && categoryKey === \"*\") continue;\n\n        let category = state[categoryKey];\n        for (let key in category) {\n            if (!category.hasOwnProperty(key)) continue;\n            if (!callback.call(null, categoryKey + \".\" + key, category[key])) {\n                return;\n            }\n        }\n    }\n}\n","import React from 'react'\n\nexport default function (editorOptions) {\n    \n    const defaultTextBackground = `background-color: ${getBackgroundColor(editorOptions)}; font-family:'Menlo Regular';font-weight:normal;font-size:14px;line-height:1.5;`;\n    const keywordStyle = getTextStyle(editorOptions, \"DEFAULT_KEYWORD\");\n    const lineComment = getTextStyle(editorOptions, \"DEFAULT_LINE_COMMENT\");\n    const defaultText = getTextStyle(editorOptions, \"TEXT\");\n    const stringLiteral = getTextStyle(editorOptions, \"DEFAULT_STRING\");\n    return `\n<div id=\"editor\" style=\"${defaultTextBackground}\">\n<pre><span style=\"${keywordStyle}\">package </span><span style=\"${defaultText}\">com.company</span><span class=\"s0\">;</span>\n<span style=\"${keywordStyle}\">public class </span><span style=\"${defaultText}\">Main {</span>\n        <span style=\"${keywordStyle}\">public static void </span><span style=\"${defaultText}\">main(String[] args) {</span>\n            <span style=\"${lineComment}\">// write your code here</span>\n            <span style=\"${defaultText}\">System.out.println(</span><span style=\"${stringLiteral}\">&quot;Hello&quot;</span><span\n        style=\"${defaultText}\">)</span><span style=\"${keywordStyle}\">;</span>\n        <span style=\"${defaultText}\">}</span>\n<span style=\"${defaultText}\">}</span>\n</pre>\n</div>`\n}\n\nfunction getBackgroundColor(editorOptions) {\n    return editorOptions.TEXT.BACKGROUND || \"#000000\";\n}\n\nfunction getTextStyle(editorOptions, option) {\n    let styles = editorOptions[option];\n\n    let result = `color:${styles.FOREGROUND || \"#FFFFFF\"};`;\n    if (styles.FONT_TYPE != null) {\n        if (styles.FONT_TYPE === \"1\") {\n            result += \"font-weight: bold;\"\n        }\n    }\n    if (styles.BACKGROUND) {\n        result += `background-color: ${styles.BACKGROUND};`\n    }\n    return result;\n}","import React from 'react';\nimport {connect} from \"react-redux\";\nimport CanvasRenderer from \"../canvasRenderer\";\nimport textTemplate from \"../helper/textTemplate\";\n\n\nconst mapStateToProps = state => {\n    return {jsonOptions: state.jsonOptions};\n};\n\nclass CanvasComponent extends React.Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.containerWidth = 973;\n        this.containerHeight = 623;\n        this.canvasRenderer = new CanvasRenderer(this.containerWidth * 2, this.containerHeight * 2)\n    }\n\n    componentDidMount() {\n        this.updateCanvas();\n    }\n\n    componentDidUpdate() {\n        this.updateCanvas();\n    }\n\n    updateCanvas() {\n        let canvas = this.refs.canvas;\n        canvas.style.width = this.containerWidth + \"px\";\n        canvas.style.height = this.containerHeight + \"px\";\n        const ctx = canvas.getContext('2d');\n        this.canvasRenderer.render(ctx, this.props.jsonOptions);\n    }\n\n    render() {\n        return (<div>\n            <canvas className=\"canvas-ide-component\" width={this.containerWidth * 2} height={this.containerHeight * 2}\n                    ref=\"canvas\"/>\n        </div>);\n    }\n}\n\n\nconst RCanvasComponent = connect(mapStateToProps)(CanvasComponent);\n\nexport {RCanvasComponent as CanvasComponent}","import React from 'react';\nimport {connect} from \"react-redux\";\nimport textTemplate from \"../helper/textTemplate\";\n\n\nconst mapStateToProps = state => {\n    return {xmlOptions: state.xmlOptions};\n};\n\nclass EditorTextComponent extends React.Component {\n\n    render() {\n        let template = textTemplate(this.props.xmlOptions);\n\n        return <div dangerouslySetInnerHTML={{__html: template}}/>;\n    }\n}\n\n\nconst REditorTextComponent = connect(mapStateToProps)(EditorTextComponent);\n\nexport {REditorTextComponent as EditorTextComponent}","import React from 'react';\nimport {CanvasComponent} from \"./CanvasComponent\";\nimport {EditorTextComponent} from \"./EditorTextComponent\";\n\n\nclass IdeComponent extends React.Component {\n\n    constructor(props, context) {\n        super(props, context);\n    }\n\n    render() {\n        return (<>\n            <EditorTextComponent/>\n            <CanvasComponent/>\n        </>);\n    }\n}\n\nexport {IdeComponent}\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {ChromePicker} from 'react-color'\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        update: nameAndValue => {\n            dispatch({update: nameAndValue, type: nameAndValue.updateType})\n        }\n    };\n}\n\nconst mapJsonStateToProps = state => {\n    return {xmlOptions: state.xmlOptions};\n};\n\nconst mapXmlStateToProps = state => {\n    return {jsonOptions: state.jsonOptions};\n};\n\nconst popover = {\n    position: 'absolute',\n    zIndex: '1000',\n};\nconst cover = {\n    position: 'fixed',\n    top: '0px',\n    right: '0px',\n    bottom: '0px',\n    left: '0px',\n};\n\nclass ColorPropertyComponent extends React.Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.colorId = props.colorId;\n        this.name = props.name;\n        this.schemaDefaultValue = props.schemaDefaultValue == null ? null : props.schemaDefaultValue.substring(1);\n        this.title = props.title || this.name;\n        this.group = props.group;\n        this.updateType = props.updateType;\n        let value = typeof props.colorId == \"string\" ? props.colorId.substring(1) : \"\";\n        this.state = {\n            value: value\n        };\n    }\n\n    updateValue = (e) => {\n        e.preventDefault();\n        let value = e.target.value;\n        if (value !== this.state.value) {\n            const newState = {\n                value: value\n            };\n            this.fireStateUpdate(newState);\n        }\n    };\n\n    fireStateUpdate = (newState) => {\n        this.setState(newState);\n        this.props.update({\n            name: this.name,\n            value: newState.value,\n            group: this.group,\n            updateType: this.updateType\n        });\n    };\n\n    handleClick = () => {\n        const newState = {\n            value: this.state.value,\n            displayColorPicker: true\n        };\n        this.setState(newState);\n    };\n\n    handlePickerChange = (color) => {\n        if (color.hex == null) return;\n        let value = color.hex.toUpperCase().substring(1);\n        const newState = {\n            value: value\n        };\n\n        this.fireStateUpdate(newState, false);\n    };\n\n    handleClose = () => {\n        const newState = {\n            value: this.state.value,\n            displayColorPicker: false\n        };\n        this.fireStateUpdate(newState, false);\n    };\n\n    resetOption = () => {\n        const newState = {\n            value: this.schemaDefaultValue\n        };\n        this.fireStateUpdate(newState);\n    }\n\n    render() {\n        let value = \"#\" + this.state.value;\n\n        let picker = this.state.displayColorPicker\n            ? <div style={popover}>\n                <div onMouseUp={this.handleClose} style={cover}/>\n                <ChromePicker\n                    color={value}\n                    // onChange={this.handleChange}\n                    onChangeComplete={this.handlePickerChange}\n                />\n            </div>\n            : null;\n\n        let style = {\"backgroundColor\": value, \"borderColor\": value};\n        return (\n            <div>\n                <small className=\"form-text text-dark\">{this.title}</small>\n                <div className=\"input-group color-picker\">\n                    <div className=\"input-group-prepend\">\n                        <button onClick={this.handleClick} className=\"btn\" type=\"button\"\n                                style={style}>\n                            {picker}\n                        </button>\n                    </div>\n\n                    <input type=\"text\" className=\"form-control form-control-sm color-property\"\n                           value={this.state.value}\n                           onChange={this.updateValue}/>\n                    {this.schemaDefaultValue == null || (this.state.value === this.schemaDefaultValue) ? null : <a onClick={this.resetOption} href=\"#\"><small>revert</small></a>}\n\n                </div>\n            </div>\n        )\n    }\n}\n\nconst RColorPropertyComponent = connect(mapJsonStateToProps, mapDispatchToProps)(ColorPropertyComponent);\nconst RXmlColorPropertyComponent = connect(mapXmlStateToProps, mapDispatchToProps)(ColorPropertyComponent);\n\nexport {RColorPropertyComponent as ColorPropertyComponent, RXmlColorPropertyComponent as XmlColorPropertyComponent}\n","import React from \"react\";\n\nexport function renderAccordionElement(uniqueId, groupName, subElements, accordionId) {\n    return <div key={\"group\" + accordionId + uniqueId} className=\"card\">\n        <div className=\"card-header\" id={\"heading\" + accordionId + uniqueId}>\n            <button className=\"btn btn-block text-left collapsed\" data-toggle=\"collapse\"\n                    data-target={\"#collapse\" + accordionId + uniqueId}\n                    aria-expanded=\"false\" aria-controls={\"collapse\" + accordionId + uniqueId}>\n                {groupName}\n                <span className=\"oi oi-chevron-bottom float-right\"/>\n            </button>\n        </div>\n\n        <div id={\"collapse\" + accordionId + uniqueId}\n             className=\"collapse\" aria-labelledby={\"heading\" + accordionId + uniqueId}\n             data-parent={\"#\" + accordionId}>\n            <div className=\"card-body\">\n                {subElements}\n            </div>\n        </div>\n    </div>\n}","import React from 'react';\nimport {ColorPropertyComponent} from \"./ColorPropertyComponent\";\nimport {connect} from \"react-redux\";\nimport {renderAccordionElement} from \"../helper/renderer\";\nimport defaultJsonOptions from \"../store/defaultJsonOptions.js\";\n\nconst mapStateToProps = state => {\n    return {jsonOptions: state.jsonOptions};\n};\n\nconst accordionId = \"generalSettings\";\n\nclass GeneralElementsComponent extends React.Component {\n\n    constructor(props, context) {\n        super(props, context);\n        let jsonOptions = this.props.jsonOptions;\n\n        this.resultGroups = [];\n\n        let keys = Object.keys(jsonOptions);\n        let sortedKeys = keys.sort();\n\n\n        let count = 0;\n        for (const groupKey of sortedKeys) {\n            count++;\n            let subObject = jsonOptions[groupKey];\n            if (subObject == null) continue;\n\n            let subKeys = Object.keys(subObject);\n            const subElements = [];\n            let subCount = 0;\n            for (let propertyKey of subKeys) {\n                let defaultValue = defaultJsonOptions[groupKey][propertyKey];\n\n                let key = \"general-item\" + ++subCount;\n                subElements.push(\n                    <ColorPropertyComponent key={key}\n                                            colorId={subObject[propertyKey]}\n                                            group={groupKey}\n                                            schemaDefaultValue={defaultValue}\n                                            updateType=\"json\"\n                                            name={propertyKey}/>\n                )\n            }\n\n            this.resultGroups.push(renderAccordionElement(count, groupKey, subElements, accordionId));\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"col-3\">\n                <div className=\"accordion\" id={accordionId}>\n                    {this.resultGroups}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst RGeneralElementsComponent = connect(mapStateToProps)(GeneralElementsComponent);\n\nexport {RGeneralElementsComponent as GeneralElementsComponent}\n","import React from 'react';\nimport {connect} from \"react-redux\";\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        update: nameAndValue => {\n            dispatch({update: nameAndValue, type: nameAndValue.updateType})\n        }\n    };\n}\n\nclass FontTypePropertyComponent extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n        this.name = props.name;\n        this.title = props.title || this.name;\n        this.group = props.group;\n        this.updateType = props.updateType;\n        this.state = {\n            fontType: props.fontType,\n        };\n    }\n\n    updateValue = (e) => {\n        let value = e.target.checked;\n        console.log(\"Value: \" + value);\n        const newState = {\n            fontType: value === true ? \"1\" : undefined\n        };\n        this.fireStateUpdate(newState);\n    };\n\n    fireStateUpdate = (newState) => {\n        this.setState(newState);\n        this.props.update({\n            name: this.name,\n            fontType: newState.fontType,\n            group: this.group,\n            updateType: this.updateType\n        });\n    };\n    \n    render() {\n        return (\n            <div>\n                <label>\n                    <input type=\"checkbox\" className=\"mr-1\"\n                           checked={this.state.fontType === \"1\"}\n                           onChange={this.updateValue}/>\n                    <small className=\"text-dark\">{this.title}</small>\n\n                </label>\n            </div>\n        )\n    }\n}\n\nconst RFontTypePropertyComponent = connect(null, mapDispatchToProps)(FontTypePropertyComponent);\n\nexport {RFontTypePropertyComponent as FontTypePropertyComponent}","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {renderAccordionElement} from \"../helper/renderer\";\nimport {ColorPropertyComponent, XmlColorPropertyComponent} from \"./ColorPropertyComponent\";\nimport {FontTypePropertyComponent} from \"./FontTypePropertyComponent\";\n\nconst accordionId = \"editorSettings\";\n\nconst mapStateToProps = state => {\n    return {xmlOptions: state.xmlOptions};\n};\n\nclass EditorElementsComponent extends React.Component {\n    \n    constructor(props, context) {\n        super(props, context);\n        let xmlOptions = this.props.xmlOptions;\n\n        this.resultGroups = [];\n\n        let keys = Object.keys(xmlOptions);\n        let sortedKeys = keys.sort();\n\n        let count = 0;\n        for (const groupKey of sortedKeys) {\n            count++;\n            let subObject = xmlOptions[groupKey];\n            if (subObject == null) continue;\n\n            let elements = [];\n\n            elements.push(<XmlColorPropertyComponent key={\"editor-item1\"}\n                                                     colorId={subObject.FOREGROUND}\n                                                     group={groupKey}\n                                                     updateType=\"xml\"\n                                                     name=\"FOREGROUND\"\n                                                     title=\"Foreground\"/>);\n            elements.push(<XmlColorPropertyComponent key={\"editor-item2\"}\n                                                     colorId={subObject.BACKGROUND}\n                                                     group={groupKey}\n                                                     updateType=\"xml\"\n                                                     name=\"BACKGROUND\"\n                                                     title=\"Background\"/>);\n\n            elements.push(<FontTypePropertyComponent key={\"editor-item3\"}\n                                                     fontType={subObject.FONT_TYPE}\n                                                     group={groupKey}\n                                                     updateType=\"xml\"\n                                                     name=\"FONT_TYPE\"\n                                                     title=\"Bold\"/>);\n\n            this.resultGroups.push(renderAccordionElement(count, subObject.NAME, elements, accordionId));\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"col-3\">\n                <div className=\"accordion\" id={accordionId}>\n                    {this.resultGroups}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst REditorElementsComponent = connect(mapStateToProps)(EditorElementsComponent);\n\nexport {REditorElementsComponent as EditorElementsComponent}\n","import JSZip from 'jszip'\nimport {saveAs} from 'file-saver';\n\nconst uuid = require('uuid/v1');\n\nconst EDITOR_SCHEMA_NAME = \"MyEditorScheme.xml\";\nconst MY_THEME_FILE = \"MyTheme.theme.json\";\n\nexport function generateZip(state, pluginName, author) {\n    const topLevelZip = new JSZip();\n    let metaInf = topLevelZip.folder(\"META-INF\");\n    generateManifestMF(metaInf);\n    generatePluginXml(metaInf, pluginName, author);\n\n    generateThemeJson(topLevelZip, state, pluginName, author);\n    let themes = topLevelZip.folder(\"themes\");\n    generateEditorScheme(themes, state, pluginName)\n\n    topLevelZip.generateAsync({type: \"blob\"})\n        .then(function (content) {\n            saveAs(content, pluginName + \".jar\");\n        });\n}\n\nfunction generateEditorScheme(themes, state, pluginName) {\n    let result = `<scheme name=\"${pluginName}\" version=\"1\" parent_scheme=\"Darcula\">\\n`;\n    result += \"<attributes>\\n\";\n\n    const xmlOptions = state.xmlOptions;\n    for (const name in xmlOptions) {\n        if (xmlOptions.hasOwnProperty(name)) {\n            result += generateAttribute(name, xmlOptions[name])\n        }\n    }\n\n    result += \"</attributes>\\n\";\n    result += \"</scheme>\";\n\n    themes.file(EDITOR_SCHEMA_NAME, result);\n}\n\nfunction generateAttribute(name, values) {\n\n    let result = `<option name=\"${name}\">\\n`;\n    result += \"<value>\\n\";\n\n    for (const key of Object.keys(values)) {\n        let value = values[key];\n        if (value != null && key !== \"NAME\") {\n            if (value.startsWith(\"#\")) {\n                value = value.substring(1);\n            }\n            result += `<option name=\"${key}\" value=\"${value}\" />\\n`;\n        }\n    }\n\n    result += \"</value>\\n\";\n    result += \"</option>\";\n\n    return result;\n}\n\n\nfunction generateThemeJson(topLevelZip, state, pluginName, author = \"Author\") {\n    const result = {};\n    result.name = pluginName;\n    result.author = author;\n    result.dark = true;\n    result.editorScheme = `/themes/${EDITOR_SCHEMA_NAME}`;\n\n    let uiOptions = {};\n    result.ui = uiOptions;\n\n    for (const name in state.jsonOptions) {\n        if (state.jsonOptions.hasOwnProperty(name) && name !== \"*\") {\n            uiOptions[name] = state.jsonOptions[name];\n        }\n    }\n\n    let s = JSON.stringify(result);\n    topLevelZip.file(MY_THEME_FILE, s);\n}\n\nfunction generateManifestMF(metaInf) {\n    metaInf.file(\"MANIFEST.MF\", \"Manifest-Version: 1.0\\n\" +\n        \"Created-By: Your Great Theme\\n\");\n}\n\nfunction generatePluginXml(metaInf, pluginName, author = \"Author\", pluginId = \"great.theme\", description = \"Generated plugin\") {\n    let uuidValue = uuid();\n\n    const content = `<idea-plugin>\n  <id>${pluginId}</id>\n  <name>${pluginName}</name>\n  <version>1.0</version>\n  <vendor>${author}</vendor>\n\n  <description><![CDATA[\n  ${description}\n    ]]></description>\n\n  <idea-version since-build=\"192.0\"/>\n  <depends>com.intellij.modules.lang</depends>\n  <extensions defaultExtensionNs=\"com.intellij\">\n    <themeProvider id=\"${uuidValue}\" path=\"/${MY_THEME_FILE}\"/>\n  </extensions>\n\n</idea-plugin>`;\n    metaInf.file(\"plugin.xml\", content);\n}","import React from 'react';\nimport store from '../store/store';\nimport {generateZip} from \"../helper/generateZip\";\n\nclass CreatePluginComponent extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            pluginName: \"Your great theme\"\n        }\n    };\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        let state = store.getState();\n        generateZip(state, this.state.pluginName);\n    };\n\n    pluginName = (e) => {\n        this.setState({\n            pluginName: e.target.value\n        })\n    };\n\n    render() {\n        return <div className=\"col-12\">\n            <form>\n                <div className=\"form-group\">\n                    <label htmlFor=\"pluginName\">Plugin name</label>\n                    <input type=\"text\" className=\"form-control w-25\" id=\"pluginName\" onChange={this.pluginName}\n                           value={this.state.pluginName}/>\n                </div>\n\n                <button className=\"btn btn-warning\" onClick={this.onSubmit}>Generate plugin</button>\n            </form>\n        </div>;\n    }\n}\n\n\nexport {CreatePluginComponent}\n","import React from 'react';\nimport './App.css';\nimport {IdeComponent} from \"./IdeComponent\";\nimport {GeneralElementsComponent} from \"./GeneralElementsComponent\";\n\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport {EditorElementsComponent} from \"./EditorElementsComponent\";\nimport {CreatePluginComponent} from \"./CreatePluginComponent\";\n\n\nfunction App() {\n    return (<>\n            <div className=\"container container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col header\">\n                        <a href=\"#\" className=\"logo\"/>\n                        <h1>Your Great Theme</h1>\n                    </div>\n                </div>\n            </div>\n            <div className=\"main\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <Tabs defaultActiveKey=\"general\" id=\"uncontrolled-tab-example\">\n                            <Tab eventKey=\"general\" title=\"General\">\n                                <div className=\"row\">\n                                    <GeneralElementsComponent/>\n                                    <div className=\"col-9 canvas-container\">\n                                        <IdeComponent/>\n                                    </div>\n                                </div>\n                            </Tab>\n                            <Tab eventKey=\"editor\" title=\"Editor\">\n                                <div className=\"row \">\n                                    <EditorElementsComponent/>\n                                    <div className=\"col-9 canvas-container\">\n                                        <IdeComponent/>\n                                    </div>\n                                </div>\n                            </Tab>\n                            <Tab eventKey=\"create-plugin\" title=\"Create plugin\">\n                                <div className=\"row \">\n                                    <CreatePluginComponent/>\n                                </div>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </div>\n                <div className=\"container\">\n                    <div className=\"row my-3 text-center\">\n                        <div className=\"col\">\n                            <small className=\"text-light\">© JetBrains Hackathon 2019</small>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"clearfix\"></div>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\nimport 'open-iconic/font/css/open-iconic-bootstrap.css';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux'\nimport store from \"./store/store\";\n\n\nReactDOM.render(<Provider store={store}><App/> </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}